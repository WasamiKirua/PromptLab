<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forge Dataset - Nano-Banana</title>
    <style>
        body { font-family: sans-serif; background-color: #fff6f2; color: #2f2320; margin: 0; padding: 2rem; display: flex; justify-content: center; }
        .container { width: 100%; max-width: 1200px; display: grid; grid-template-columns: 1fr; gap: 2rem; }
        .panel { background-color: #ffffff; border-radius: 8px; padding: 2rem; box-shadow: 0 4px 8px rgba(0,0,0,0.3); }
        .full-width { grid-column: 1 / -1; }
        h1, h2 { color: #ff8fb8; border-bottom: 1px solid #f0cfe0; padding-bottom: 0.5rem; }
        .home-link { display: inline-flex; align-items: center; gap: 0.5rem; color: #ff8fb8; text-decoration: none; font-weight: 600; padding: 0.35rem 0.8rem; border-radius: 999px; border: 1px solid #f0cfe0; background-color: #ffffff; }
        .home-link:hover { background-color: #fff0f6; border-color: #ff8fb8; }
        .form-group { margin-bottom: 1.5rem; }
        label { display: block; margin-bottom: 0.5rem; color: #6f5d59; }
        input[type="text"], input[type="number"], select, textarea { width: 100%; padding: 0.75rem; border-radius: 4px; border: 1px solid #f0cfe0; background-color: #fff3f8; color: #2f2320; box-sizing: border-box; }
        textarea { min-height: 100px; resize: vertical; }
        #image-preview { max-width: 100%; max-height: 260px; margin-top: 1rem; border-radius: 4px; }
        .image-row { display: grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap: 1rem; }
        .image-card { background-color: #fff9f5; border: 1px solid #f5d6e6; border-radius: 8px; padding: 0.75rem; }
        .image-title { font-size: 0.85rem; color: #6f5d59; margin-bottom: 0.5rem; }
        @media (max-width: 700px) {
            .image-row { grid-template-columns: 1fr; }
        }
        button {border: none; padding: 0.8rem 1.5rem; border-radius: 4px; cursor: pointer; font-size: 1rem; font-weight: bold; transition: background-color 0.2s; }
        .hidden { display: none; }
        .tab-content { display: none; padding-top: 1.5rem; }
        .tab-content.active { display: block; }
        .tab-content form { display: grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap: 1rem 1.5rem; }
        .tab-content .form-group { margin-bottom: 0; }
        .tab-nav {
            margin-bottom: 1rem;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        .tab-link {
            background-color: #f0cfe0;
            color: #6f5d59;
            padding: 0.6rem 1.2rem;
            margin-right: 5px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.9rem;
            border: 1px solid transparent;
        }
        .tab-link.active {
            background-color: #ff8fb8;
            color: #fff6f2;
        }
        .tab-link:hover:not(.active) {
            background-color: #ffe1ee;
            color: #fff;
        }
        @media (max-width: 900px) {
            .tab-content form { grid-template-columns: 1fr; }
        }
        .status-banner { margin-top: 1rem; padding: 0.75rem 1rem; border-radius: 8px; border: 1px solid #f5d6e6; background-color: #ffffff; color: #6f5d59; }
        .status-banner.success { border-color: #3a6b4b; color: #2f7a5a; }
        .status-banner.error { border-color: #f2b5b5; color: #a33b3b; }
        .generated-preview { margin-top: 1rem; border-radius: 8px; border: 1px solid #f5d6e6; overflow: hidden; }
    </style>
</head>
<body>
    <div class="container">
        <div class="panel full-width">
            <a class="home-link" href="/">‚Üê Back to Home</a>
            <h1>Atletic Woman</h1>
            <form id="forge-form" action="/atleticwoman" method="post" enctype="multipart/form-data">
                <div class="form-group">
                    <div class="image-row">
                        <div class="image-card">
                            <div class="image-title">Template Preview</div>
                            <img id="image-preview" src="/static/images/atletic_woman.png" alt="Template preview" onerror="this.onerror=null;this.src=this.src.replace(/\.png$/i,'.jpg');">
                        </div>
                    </div>
                </div>
                <button type="submit">Create</button>
                <div id="generation-status" class="status-banner hidden">Generating...</div>
                {% if generation_status == "completed" %}
                    <div class="status-banner success">Generation complete. Saved Successfully!.</div>
                    {% if generated_image_path %}
                        <div class="generated-preview">
                            <img src="{{ generated_image_path }}" alt="Generated output preview" onerror="this.onerror=null;this.src=this.src.replace(/\.png$/i,'.jpg');">
                        </div>
                    {% endif %}
                {% elif generation_status == "failed" %}
                    <div class="status-banner error">Generation failed: {{ generation_error }}</div>
                {% endif %}
        </div>
        <div class="panel full-width">
            <h2>Customization</h2>
            <div class="tabs">
                <div class="tab-nav">
                    <button type="button" class="tab-link active" onclick="openTab(event, 'subject-aw')">Subject</button>
                    <button type="button" class="tab-link" onclick="openTab(event, 'wardrobe-aw')">Wardrobe</button>
                    <button type="button" class="tab-link" onclick="openTab(event, 'pose-aw')">Pose</button>
                    <button type="button" class="tab-link" onclick="openTab(event, 'environment-aw')">Environment</button>
                    <button type="button" class="tab-link" onclick="openTab(event, 'lighting-aw')">Lighting</button>
                    <button type="button" class="tab-link" onclick="openTab(event, 'camera-aw')">Camera</button>
                    <button type="button" class="tab-link" onclick="openTab(event, 'ar-aw')">Aspect Ratio</button>
                </div>
                <div id="subject-aw" class="tab-content active">
                    <div class="form-group"><label for="subject-type-aw">Type</label><input type="text" id="subject-type-aw" name="subject.type" value="{{atletic_woman_data.subject.type}}"></div>
                    <div class="form-group"><label for="subject-age-aw">Age</label><input type="text" id="subject-age-aw" name="subject.age" value="{{atletic_woman_data.subject.age}}"></div>
                    <div class="form-group"><label for="subject-identity-aw">Identity Lock</label><textarea id="subject-identity-aw" name="subject.identity_lock">{{atletic_woman_data.subject.identity_lock}}</textarea></div>
                    <div class="form-group"><label for="face-shape-aw">Face Shape</label><input type="text" id="face-shape-aw" name="subject.face_lock.shape" value="{{atletic_woman_data.subject.face_lock.shape}}"></div>
                    <div class="form-group"><label for="face-brows-aw">Brows</label><input type="text" id="face-brows-aw" name="subject.face_lock.brows" value="{{atletic_woman_data.subject.face_lock.brows}}"></div>
                    <div class="form-group"><label for="face-eyes-aw">Eyes</label><input type="text" id="face-eyes-aw" name="subject.face_lock.eyes" value="{{atletic_woman_data.subject.face_lock.eyes}}"></div>
                    <div class="form-group"><label for="face-nose-aw">Nose</label><input type="text" id="face-nose-aw" name="subject.face_lock.nose" value="{{atletic_woman_data.subject.face_lock.nose}}"></div>
                    <div class="form-group"><label for="face-lips-aw">Lips</label><input type="text" id="face-lips-aw" name="subject.face_lock.lips" value="{{atletic_woman_data.subject.face_lock.lips}}"></div>
                    <div class="form-group"><label for="face-skin-aw">Skin</label><input type="text" id="face-skin-aw" name="subject.face_lock.skin" value="{{atletic_woman_data.subject.face_lock.skin}}"></div>
                    <div class="form-group"><label for="face-expression-aw">Expression</label><input type="text" id="face-expression-aw" name="subject.face_lock.expression" value="{{atletic_woman_data.subject.face_lock.expression}}"></div>
                    <div class="form-group"><label for="face-gaze-aw">Gaze</label><input type="text" id="face-gaze-aw" name="subject.face_lock.gaze" value="{{atletic_woman_data.subject.face_lock.gaze}}"></div>
                    <div class="form-group"><label for="hair-aw">Hair</label><input type="text" id="hair-aw" name="subject.hair" value="{{atletic_woman_data.subject.hair}}"></div>
                </div>
                <div id="wardrobe-aw" class="tab-content">
                    <div class="form-group"><label for="cap-aw">Cap</label><input type="text" id="cap-aw" name="wardrobe.cap" value="{{atletic_woman_data.wardrobe.cap}}"></div>
                    <div class="form-group"><label for="bikini-rule-aw">Bikini Rule</label><input type="text" id="bikini-rule-aw" name="wardrobe.bikini.rule" value="{{atletic_woman_data.wardrobe.bikini.rule}}"></div>
                    <div class="form-group"><label for="bikini-color-aw">Bikini Color</label><input type="text" id="bikini-color-aw" name="wardrobe.bikini.color" value="{{atletic_woman_data.wardrobe.bikini.color}}"></div>
                    <div class="form-group"><label for="bikini-top-style-aw">Top Style</label><input type="text" id="bikini-top-style-aw" name="wardrobe.bikini.top.style" value="{{atletic_woman_data.wardrobe.bikini.top.style}}"></div>
                    <div class="form-group"><label for="bikini-top-support-aw">Top Support</label><input type="text" id="bikini-top-support-aw" name="wardrobe.bikini.top.support" value="{{atletic_woman_data.wardrobe.bikini.top.support}}"></div>
                    <div class="form-group"><label for="bikini-top-fabric-aw">Top Fabric Detail</label><input type="text" id="bikini-top-fabric-aw" name="wardrobe.bikini.top.fabric_detail" value="{{atletic_woman_data.wardrobe.bikini.top.fabric_detail}}"></div>
                    <div class="form-group"><label for="bikini-bottom-style-aw">Bottom Style</label><input type="text" id="bikini-bottom-style-aw" name="wardrobe.bikini.bottom.style" value="{{atletic_woman_data.wardrobe.bikini.bottom.style}}"></div>
                    <div class="form-group"><label for="bikini-bottom-fit-aw">Bottom Fit</label><input type="text" id="bikini-bottom-fit-aw" name="wardrobe.bikini.bottom.fit" value="{{atletic_woman_data.wardrobe.bikini.bottom.fit}}"></div>
                    <div class="form-group"><label for="bikini-bottom-fabric-aw">Bottom Fabric Detail</label><input type="text" id="bikini-bottom-fabric-aw" name="wardrobe.bikini.bottom.fabric_detail" value="{{atletic_woman_data.wardrobe.bikini.bottom.fabric_detail}}"></div>
                    <div class="form-group"><label for="socks-aw">Socks</label><input type="text" id="socks-aw" name="wardrobe.footwear.socks" value="{{atletic_woman_data.wardrobe.footwear.socks}}"></div>
                    <div class="form-group"><label for="shoes-aw">Shoes</label><input type="text" id="shoes-aw" name="wardrobe.footwear.shoes" value="{{atletic_woman_data.wardrobe.footwear.shoes}}"></div>
                    <div class="form-group"><label for="prop-item-aw">Prop Item</label><input type="text" id="prop-item-aw" name="wardrobe.prop.item" value="{{atletic_woman_data.wardrobe.prop.item}}"></div>
                    <div class="form-group"><label for="prop-detail-aw">Prop Detail</label><input type="text" id="prop-detail-aw" name="wardrobe.prop.detail" value="{{atletic_woman_data.wardrobe.prop.detail}}"></div>
                </div>
                <div id="pose-aw" class="tab-content">
                    <div class="form-group"><label for="pose-concept-aw">Concept</label><input type="text" id="pose-concept-aw" name="pose.concept" value="{{atletic_woman_data.pose.concept}}"></div>
                    <div class="form-group"><label for="pose-position-aw">Position</label><input type="text" id="pose-position-aw" name="pose.position" value="{{atletic_woman_data.pose.position}}"></div>
                    <div class="form-group"><label for="pose-camera-rel-aw">Camera Relation</label><input type="text" id="pose-camera-rel-aw" name="pose.camera_relation" value="{{atletic_woman_data.pose.camera_relation}}"></div>
                    <div class="form-group"><label for="pose-stance-aw">Lower Body Stance</label><input type="text" id="pose-stance-aw" name="pose.lower_body.stance" value="{{atletic_woman_data.pose.lower_body.stance}}"></div>
                    <div class="form-group"><label for="pose-hip-aw">Hip Line</label><input type="text" id="pose-hip-aw" name="pose.lower_body.hip_line" value="{{atletic_woman_data.pose.lower_body.hip_line}}"></div>
                    <div class="form-group"><label for="pose-feet-aw">Feet</label><input type="text" id="pose-feet-aw" name="pose.lower_body.feet" value="{{atletic_woman_data.pose.lower_body.feet}}"></div>
                    <div class="form-group"><label for="pose-lean-aw">Lean</label><input type="text" id="pose-lean-aw" name="pose.upper_body.lean" value="{{atletic_woman_data.pose.upper_body.lean}}"></div>
                    <div class="form-group"><label for="pose-torso-aw">Torso</label><input type="text" id="pose-torso-aw" name="pose.upper_body.torso" value="{{atletic_woman_data.pose.upper_body.torso}}"></div>
                    <div class="form-group"><label for="pose-shoulders-aw">Shoulders</label><input type="text" id="pose-shoulders-aw" name="pose.upper_body.shoulders" value="{{atletic_woman_data.pose.upper_body.shoulders}}"></div>
                    <div class="form-group"><label for="pose-net-hand-aw">Net Hand</label><input type="text" id="pose-net-hand-aw" name="pose.arms_hands.net_hand" value="{{atletic_woman_data.pose.arms_hands.net_hand}}"></div>
                    <div class="form-group"><label for="pose-racket-hand-aw">Racket Hand</label><input type="text" id="pose-racket-hand-aw" name="pose.arms_hands.racket_hand" value="{{atletic_woman_data.pose.arms_hands.racket_hand}}"></div>
                    <div class="form-group"><label for="pose-head-aw">Head</label><input type="text" id="pose-head-aw" name="pose.head" value="{{atletic_woman_data.pose.head}}"></div>
                </div>
                <div id="environment-aw" class="tab-content">
                    <div class="form-group"><label for="court-surface-aw">Court Surface</label><input type="text" id="court-surface-aw" name="environment.court.surface" value="{{atletic_woman_data.environment.court.surface}}"></div>
                    <div class="form-group"><label for="court-lines-aw">Court Lines</label><input type="text" id="court-lines-aw" name="environment.court.lines" value="{{atletic_woman_data.environment.court.lines}}"></div>
                    <div class="form-group"><label for="court-realism-aw">Court Realism</label><input type="text" id="court-realism-aw" name="environment.court.micro_realism" value="{{atletic_woman_data.environment.court.micro_realism}}"></div>
                    <div class="form-group"><label for="net-mesh-aw">Net Mesh</label><input type="text" id="net-mesh-aw" name="environment.net.mesh" value="{{atletic_woman_data.environment.net.mesh}}"></div>
                    <div class="form-group"><label for="net-tape-aw">Net Tape</label><input type="text" id="net-tape-aw" name="environment.net.tape" value="{{atletic_woman_data.environment.net.tape}}"></div>
                    <div class="form-group"><label for="net-post-aw">Net Post</label><input type="text" id="net-post-aw" name="environment.net.post" value="{{atletic_woman_data.environment.net.post}}"></div>
                    <div class="form-group"><label for="background-club-aw">Background Club</label><input type="text" id="background-club-aw" name="environment.background.club" value="{{atletic_woman_data.environment.background.club}}"></div>
                    <div class="form-group"><label for="background-elements-aw">Background Elements</label><textarea id="background-elements-aw" name="environment.background.elements">{{atletic_woman_data.environment.background.elements | join(', ')}}</textarea></div>
                    <div class="form-group"><label for="background-depth-aw">Depth Rule</label><input type="text" id="background-depth-aw" name="environment.background.depth_rule" value="{{atletic_woman_data.environment.background.depth_rule}}"></div>
                </div>
                <div id="lighting-aw" class="tab-content">
                    <div class="form-group"><label for="lighting-time-aw">Time</label><input type="text" id="lighting-time-aw" name="lighting.time" value="{{atletic_woman_data.lighting.time}}"></div>
                    <div class="form-group"><label for="lighting-quality-aw">Quality</label><input type="text" id="lighting-quality-aw" name="lighting.quality" value="{{atletic_woman_data.lighting.quality}}"></div>
                    <div class="form-group"><label for="lighting-rules-aw">Rules</label><input type="text" id="lighting-rules-aw" name="lighting.rules" value="{{atletic_woman_data.lighting.rules}}"></div>
                </div>
                <div id="camera-aw" class="tab-content">
                    <div class="form-group"><label for="camera-look-aw">Look</label><input type="text" id="camera-look-aw" name="camera.look" value="{{atletic_woman_data.camera.look}}"></div>
                    <div class="form-group"><label for="camera-mode-aw">Mode</label><input type="text" id="camera-mode-aw" name="camera.mode" value="{{atletic_woman_data.camera.mode}}"></div>
                    <div class="form-group"><label for="camera-lens-aw">Lens</label><input type="text" id="camera-lens-aw" name="camera.lens" value="{{atletic_woman_data.camera.lens}}"></div>
                    <div class="form-group"><label for="camera-position-aw">Position</label><input type="text" id="camera-position-aw" name="camera.position" value="{{atletic_woman_data.camera.position}}"></div>
                    <div class="form-group"><label for="camera-distance-aw">Distance</label><input type="text" id="camera-distance-aw" name="camera.distance" value="{{atletic_woman_data.camera.distance}}"></div>
                    <div class="form-group"><label for="camera-framing-aw">Framing</label><input type="text" id="camera-framing-aw" name="camera.framing" value="{{atletic_woman_data.camera.framing}}"></div>
                    <div class="form-group"><label for="camera-focus-aw">Focus</label><input type="text" id="camera-focus-aw" name="camera.focus" value="{{atletic_woman_data.camera.focus}}"></div>
                    <div class="form-group"><label for="camera-anti-blur-aw">Anti Blur</label><input type="text" id="camera-anti-blur-aw" name="camera.anti_blur" value="{{atletic_woman_data.camera.anti_blur}}"></div>
                    <div class="form-group"><label for="camera-settings-aw">Settings Hint</label><input type="text" id="camera-settings-aw" name="camera.settings_hint" value="{{atletic_woman_data.camera.settings_hint}}"></div>
                    <div class="form-group"><label for="camera-artifacts-aw">Artifacts</label><input type="text" id="camera-artifacts-aw" name="camera.artifacts" value="{{atletic_woman_data.camera.artifacts}}"></div>
                </div>
                <div id="ar-aw" class="tab-content">
                    <div class="form-group"><label for="ar-aw">Aspect Ratio</label><input type="text" id="ar-aw" name="ar" value="{{atletic_woman_data.ar}}"></div>
                </div>
            </div>
        </div>
        </form>
    </div>
    <script>
        function openTab(e, t) {
            var n = e.currentTarget.closest('.panel'),
            l = n.getElementsByClassName('tab-content'),
            c = n.getElementsByClassName('tab-link');
            for (var i = 0; i < l.length; i++) { l[i].style.display = 'none'; }
            for (var i = 0; i < c.length; i++) { c[i].className = c[i].className.replace(' active', ''); }
            document.getElementById(t).style.display = 'block';
            e.currentTarget.className += ' active';
        }
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('.panel').forEach(function(e) {
                var t = e.querySelector('.tab-link');
                t && t.click();
            });
            var form = document.getElementById('forge-form');
            var statusBanner = document.getElementById('generation-status');
            if (form && statusBanner) {
                form.addEventListener('submit', function() {
                    statusBanner.classList.remove('hidden');
                });
            }
        });
    </script>
</body>
</html>
